name: "evagallery_ai_api"
service: "ai_api.main:APIService"
labels:
  owner: "slobodaapl"
  project: "evagallery"
include:
  - "*.py"
  - "alembic/**/*"
  - "settings.yaml"
  - "config.yaml"
  - alembic.ini
python:
  lock_packages: true
  packages:
    - accelerate
    - bentoml[tracing_otlp]
    - dynaconf
    - sentence-transformers
    - transformers
    - torch
    - torchvision
    - numpy
    - alembic
    - psycopg2-binary
    - pgvector
    - loguru
    - sqlalchemy
    - asyncpg
    - invisible-watermark
    - diffusers
    - httpx
    - pillow
    - aiosqlite
    - aiohttp
docker:
  distro: "debian"
  python_version: "3.11"
  setup_script: "./setup.py"
  dockerfile_template: "./Dockerfile.template"
